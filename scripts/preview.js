const http=require('http');const fs=require('fs');const path=require('path');const root=path.resolve('app');const port=5173;function send(res,code,body,type){res.writeHead(code,{'Content-Type':type||'text/plain; charset=utf-8'});res.end(body);}function serveFile(res,p){if(!fs.existsSync(p))return false;const ext=path.extname(p).toLowerCase();const m={'.html':'text/html; charset=utf-8','.js':'text/javascript; charset=utf-8','.css':'text/css; charset=utf-8','.json':'application/json; charset=utf-8','.png':'image/png','.jpg':'image/jpeg','.svg':'image/svg+xml'}[ext]||'application/octet-stream';send(res,200,fs.readFileSync(p),m);return true;}const server=http.createServer((req,res)=>{const url=decodeURIComponent(req.url.split('?')[0]);const file=url==='/'?'index.html':url.replace(/^\//,'');const p=path.join(root,file);if(serveFile(res,p))return;const fb=path.join(root,'index.html');if(fs.existsSync(fb))serveFile(res,fb);else send(res,404,'Not Found');});server.listen(port,()=>console.log('Preview: http://localhost:'+port));